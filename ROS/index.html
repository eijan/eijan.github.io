
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
  body {
    box-sizing: border-box;
    min-width: 200px;
     
    max-width: 980px;
    margin: 0 auto;
    padding: 145px;
  }

@media (max-width: 767px) {
  body {
    padding: 15px;
  }
</style>
    
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
        <h1><a href="http://eijan.github.io/">eijan.github.io</a></h1>
      

<link rel="stylesheet" href="http://7xku3c.com1.z0.glb.clouddn.com/code/code.css?v=0.4">
	<link rel="stylesheet" href="http://7xku3c.com1.z0.glb.clouddn.com/github/github-markdown.css?v=0.1">
<script src="http://7xku3c.com1.z0.glb.clouddn.com/static/js/jquery-1.10.2.min.js"></script>
<script src="http://7xku3c.com1.z0.glb.clouddn.com/code/code.js?v=0.1"></script>
<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/001.png" alt=""></p>
<h1><a name="ros-å®‰è£…å’Œå­¦ä¹ è®°å½•" class="anchor" href="#ros-%E5%AE%89%E8%A3%85%E5%92%8C%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
ROS# å®‰è£…å’Œå­¦ä¹ è®°å½•</h1>

<p>ROSï¼ƒæ˜¯Cï¼ƒä¸­çš„ä¸€ç»„è½¯ä»¶åº“å’Œå·¥å…·ï¼Œç”¨äº.NETåº”ç”¨ç¨‹åºï¼ˆå°¤å…¶æ˜¯Unityï¼‰ä¸ROSè¿›è¡Œé€šä¿¡
ç›®çš„ï¼šå®ç°ROSå’Œunity 3D çš„é€šä¿¡
å‚è€ƒè¯‘æ–‡ç½‘å€ï¼š<a href="https://blog.csdn.net/zhangrelay/article/details/79008366" rel="nofollow">https://blog.csdn.net/zhangrelay/article/details/79008366</a>
ROS#åŒ…æ‹¬å¦‚ä¸‹å†…å®¹ï¼š
RosBridgeClient, a .NET API to ROS using rosbridge_suite on the ROS side.
UrdfImporter, a URDF file parser for .NET applications.
RosSharp.unitypackage, a Unity Asset package providing Unity-specific extensions to RosBridgeClient and UrdfImporter.
ROS#å¯ä»¥å®ç°åŠŸèƒ½æœ‰</p>

<ol>
<li>Communicateï¼šé€šè¿‡Windowsåº”ç”¨ç¨‹åºä¸ROSè¿›è¡Œé€šè®¯ï¼ˆLinuxä¸å¯ä»¥å—ï¼Ÿï¼‰ï¼›è®¢é˜…å’Œå‘å¸ƒä¸»é¢˜ï¼Œè°ƒç”¨å’Œå‘å¸ƒæœåŠ¡ï¼Œè®¾ç½®å’Œè·å–å‚æ•°ä»¥åŠä½¿ç”¨rosbridgeå¥—ä»¶æä¾›çš„æ‰€æœ‰åŠŸèƒ½ã€‚
2.Â Importï¼šå°†æœºå™¨äººçš„URDFæ¨¡å‹ä½œä¸ºGameObjectå¯¼å…¥åˆ°Unity3Dä¸­ã€‚ ä½¿ç”¨robot_descriptionæœåŠ¡ç›´æ¥ä»ROSç³»ç»Ÿå¯¼å…¥æ•°æ®ï¼Œæˆ–é€šè¿‡å¤åˆ¶åˆ°Unityèµ„æºæ–‡ä»¶å¤¹ä¸­çš„URDFæ–‡ä»¶å¯¼å…¥æ•°æ®ã€‚
3.Â Controlï¼šé€šè¿‡Unity3Dæ§åˆ¶çœŸå®æœºå™¨äººã€‚
4.Â Visualizeï¼šåœ¨Unity3Dä¸­å¯è§†åŒ–æœºå™¨äººçš„å®é™…çŠ¶æ€å’Œä¼ æ„Ÿå™¨æ•°æ®ã€‚
5.Â Simulateï¼šä½¿ç”¨URDFæä¾›çš„æ•°æ®åœ¨Unity3Dä¸­å®ç°æœºå™¨äººä»¿çœŸï¼ˆè¿™é‡Œä¸ä½¿ç”¨ä¸ROSçš„è¿æ¥çš„æ–¹å¼ï¼‰ã€‚ é™¤äº†ç½‘æ ¼å’Œçº¹ç†çš„å¯è§†åŒ–ç»„ä»¶ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¯¼å…¥äº†åˆšä½“çš„å…³èŠ‚å‚æ•°ã€è´¨é‡ã€CoMsã€æƒ¯æ€§å’Œç¢°æ’ç­‰è§„æ ¼æŒ‡æ ‡
6.Â And much moreï¼šæ›´å¤šåŠŸèƒ½ï¼ROSï¼ƒå¯ç”¨äºå„ç§åº”ç”¨ï¼Œå¦‚æœºå™¨å­¦ä¹ ã€äººæœºäº¤äº’ã€è¿œç¨‹ç›‘æ§ã€è™šæ‹ŸåŸå‹ã€æœºå™¨äººæ“ä½œã€æ¸¸æˆå’Œå¨±ä¹ç­‰ï¼
å‚è€ƒgithub WIKI ç½‘å€ï¼š<a href="https://github.com/siemens/ros-sharp/wiki/Info_Showcases" rel="nofollow">https://github.com/siemens/ros-sharp/wiki/Info_Showcases</a></li>
</ol>

<p>ROS# å®‰è£…è¿‡ç¨‹ï¼š
1.3 ROS on Ubuntu (ubuntu 16.04 å·²ç»å®‰è£…)
å†è£…ä¸€ä¸ªrosbridge-suite åŒ…
zypc@zypc-All-Series:~$ sudo apt-get install ros-kinetic-rosbridge-server
æ ¹æ®è¦æ±‚æ¥ï¼š
Place the file_server package in the src folder of your catkin workspace
æ”¾ç½®file_serveråˆ°æˆ‘çš„catkin_wsç›®å½•çš„srcç›®å½•ä¸‹</p>

<pre><code>Build by running $ catkin_make from the root folder of your catkin workspace
</code></pre>

<p>ç¼–è¯‘è¿™ä¸ªåŒ…
catkin_make -source src/file_server</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/002.png" alt=""></p>

<p>å‡ºç°æ‰¾ä¸åˆ°PCLåº“çš„é—®é¢˜ã€‚PCLåº“ Point Cloud Library ç‚¹äº‘çš„åº“ã€‚
...è‡ªè¡Œå®‰è£…</p>

<pre><code>sudo apt-get install libpcl1 libpcl1.7 libpcl-dev 
å†ç¼–è¯‘ã€‚è¿˜æ˜¯æ‰¾ä¸åˆ°
æ–°å»ºä¸€ä¸ªrossharp_ws å•ç‹¬æŠŠåŒ…æ”¾åˆ°/home/zypc/rossharp_wsï¼Œç¼–è¯‘é€šè¿‡
catkin_make -source src/file_server
zypc@zypc-All-Series:~/rossharp_ws$ catkin_make install
</code></pre>

<p>å†å®‰è£…åˆ°ç³»ç»Ÿ</p>

<pre><code>zypc@zypc-All-Series:~/rossharp_ws$ source devel/setup.bash
</code></pre>

<p>ç´¢å¼•ç¯å¢ƒå˜é‡</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/003.png" alt=""></p>

<p>å¯åŠ¨èŠ‚ç‚¹æˆåŠŸ
æŠ¥é”™é—®é¢˜ï¼šxacro: Traditional processing is deprecated. Switch to --inorder processing!
è§£å†³åŠæ³•ï¼šæ‰¾åˆ°launchå¯åŠ¨è„šæœ¬ï¼ŒæŠŠè¯­å¥</p>

<pre><code>&lt;param name=&#34;robot_description&#34; command=&#34;$(find xacro)/xacro &#39;$(find robot_description)/urdf/my_robot.urdf.xacro&#39;&#34; /&gt;
</code></pre>

<p>æ”¹ä¸º</p>

<pre><code>&lt;param name=&#34;robot_description&#34; command=&#34;$(find xacro)/xacro &#39;--inorder&#39; &#39;$(find robot_description)/urdf/my_robot.urdf.xacro&#39;&#34; /&gt;
</code></pre>

<p>å¼€å¯æ–°çš„æ ‡ç­¾é¡µæŸ¥çœ‹å­˜åœ¨çš„æœåŠ¡ï¼ˆå¦‚ä¸‹ä¸‹å›¾ï¼‰
rosbridge-server åŒ…ä½ç½®åœ¨/opt/ros/kinetic/share/rosbridge_server
æ‰“å¼€/opt/ros/kinetic/share/rosbridge_server/launch/rosbridge_websocket.launch
å¯ä»¥çœ‹åˆ° launch å¯åŠ¨äº† rosbridge_websocketèŠ‚ç‚¹ï¼ŒrosapièŠ‚ç‚¹ä¸‹çš„ä¼—å¤šæœåŠ¡ã€‚
æ‰“å¼€/opt/ros/kinetic/share/rosapi/srv å¯ä»¥çœ‹åˆ° rosapi åŒ…ä¸‹æœ‰å¤šç§ç±»å‹çš„srv,</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/004.png" alt="">
<img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/005.png" alt=""></p>

<p>åŸºæœ¬ä¸Šèƒ½å¯¹åº”èµ·æ¥ã€‚
rosapié€šè¿‡æœåŠ¡è°ƒç”¨ä½¿æŸäº›ROS actionå¯è®¿é—®ï¼ŒåŒ…æ‹¬è·å–å’Œè®¾ç½®å‚æ•°ï¼Œè·å–ä¸»é¢˜åˆ—è¡¨ç­‰ã€‚rosbridge_libraryæ˜¯æ ¸å¿ƒrosbridgeåŒ…ã€‚rosbridge_libraryè´Ÿè´£è·å–JSONå­—ç¬¦ä¸²å¹¶å°†å‘½ä»¤å‘é€åˆ°rosï¼Œåä¹‹äº¦ç„¶ã€‚rosbridge_serverè´Ÿè´£é€šä¿¡çš„ä¼ è¾“å±‚ï¼ŒåŒ…æ‹¬websocketï¼Œtcpï¼Œudpç­‰å‡ ç§æ ¼å¼ã€‚</p>

<p>1.4 Gazebo Setup on VM (å·²ç»å®‰è£…)</p>

<pre><code>gazebo -version
</code></pre>

<pre><code>Gazebo multi-robot simulator, version 7.0.0
Copyright (C) 2012-2016 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org


Gazebo multi-robot simulator, version 7.0.0
Copyright (C) 2012-2016 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org
</code></pre>

<p>1.5 TurtleBot2
åœ¨è¿™ä¸ªç®€å•çš„åœºæ™¯ä¸­ï¼Œ.urdfä½œä¸ºrobot_descriptionçš„å‚æ•°å’Œrobot/name parameter
å‚æ•°éœ€è¦å‘é€åˆ°å‚æ•°æœåŠ¡å™¨ï¼Œæ­¤å¤–ï¼Œrosbridge_websocketæœåŠ¡å’Œfile_server åœ¨å»ºç«‹ä¸Unityçš„è¿æ¥ä¸­ä¹Ÿæ˜¯éœ€è¦çš„ã€‚</p>

<pre><code>sudo apt-get install ros-kinetic-turtlebot ros-kinetic-turtlebot-apps ros-kinetic-turtlebot-interactions ros-kinetic-turtlebot-simulator ros-kinetic-kobuki-ftd ros-kinetic-ar-track-alvar-msgs ros-kinetic-turtlebot-gazebo
</code></pre>

<p>é™¤äº†æ— æ³•å®šä½è½¯ä»¶åŒ… ros-kinetic-kobuki-ftd å®‰è£…äº†ros-kinetic-kobuki-ftdi
å…¶ä»–å®‰è£…æ²¡æœ‰é—®é¢˜
æ²¡æœ‰å°è¯•è¿è¡Œ TurtleBot2 example</p>

<p>1.6 Shadow Handï¼ˆä¸æ˜¯å¿…é¡»çš„ï¼‰
è¿™ä¸ªä¾‹å­è§£é‡Šäº†å¦‚ä½•å»å»ºç«‹ä¸€ä¸ªé˜´å½±æ‰‹æ¨¡å‹ï¼Œä¼šåœ¨æ— ROSé€šä¿¡çš„ä¾‹å­é‡Œé¢ç”¨åˆ°ã€‚
ä¸‹è½½å·¥ç¨‹æºç ï¼š</p>

<pre><code>git clone https://github.com/shadow-robot/simox_ros
</code></pre>

<p>æ­£å…‹éš†åˆ° &#39;simox_ros&#39;...
...
å·¥ç¨‹æºç æ‰€åœ¨è·¯å¾„ï¼š/home/zypc/simox_ros
Shadow handé¡¹ç›®ä»‹ç» <a href="https://www.shadowrobot.com/products/dexterous-hand/" rel="nofollow">https://www.shadowrobot.com/products/dexterous-hand/</a>
1.7ros-sharpåŒ…è·å–</p>

<pre><code>git clone https://github.com/siemens/ros-sharp.git
</code></pre>

<p>æ­£å…‹éš†åˆ° &#39;ros-sharp&#39;...
å·¥ç¨‹æºç è·¯å¾„ï¼š/home/zypc/ros-sharp</p>

<ol>
<li>Application examples with ROS connection
ä¸‹é¢æœ‰3ä¸ªä¾‹å­ã€‚å¯¼å…¥URDFæ¨¡å‹ï¼ŒGazaboä»¿çœŸï¼ŒUnityä»¿çœŸ
2.1 Importing a URDF from ROS
åœ¨unity3Dä¸­å¯¼å…¥URDFæ¨¡å‹
  åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ç¨‹ï¼Œå·¥ç¨‹çš„Assertä¸‹æ·»åŠ æ–°èµ„æºRosSharã€‚å®Œæˆåå¯ä»¥çœ‹åˆ°èœå•å¤šäº†ä¸€ä¸ª RosBridgeClient é€‰é¡¹ï¼Œç‚¹å‡»æ˜¾ç¤º-&gt; import URDF Asserts é€‰é¡¹ã€‚å†ç‚¹å‡»æ˜¾ç¤º -&gt; å¦‚ä¸‹ RosSharp.Urdf å¯¹è¯æ¡†ã€‚</li>
</ol>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/006.png" alt=""></p>

<p>ä¿®æ”¹æˆæœ¬æœºIP</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/007.png" alt=""></p>

<p>è¿æ¥çŠ¶æ€æ”¹å˜</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/008.png" alt=""></p>

<p>è¿è¡Œæ¸¸æˆ</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/009.png" alt=""></p>

<p>Serverç«¯ ç»ˆç«¯æ‰“å°ä¿¡æ¯ï¼Œè¿æ¥ï¼Œç›´åˆ°æ–­å¼€ï¼Ÿï¼Ÿ</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/010.png" alt=""></p>

<p>2.2 Gazebo Simulation Example</p>

<pre><code>Gazebo ä»¿çœŸå®ä¾‹ï¼Œå…ˆä¸åš
</code></pre>

<p>2.3 Unity Simulation Example</p>

<pre><code>Unity ä»¿çœŸå®ä¾‹å®˜æ–¹è¯´æ˜ï¼š
</code></pre>

<p>è¯¥å›¾è¯´æ˜äº†åœ¨unityä¸­å®æ—¶ä»¿çœŸæ—¶ï¼Œunityå’ŒROSé€šä¿¡çš„åŸç†</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/011.png" alt=""></p>

<p>æ­£å‘-&gt; åå‘&lt;- éƒ½è¦é€š
æ¦‚è¦è¯´æ˜ï¼š
æ§åˆ¶ä¿¡å·ä»ROSä¼ é€’åˆ°Unity, å› æ­¤ï¼ŒUnityçš„è¾“å‡ºè¢«ROSæ•è·å¹¶ä½¿ç”¨rvizåŠ ä»¥è¯å®ã€‚
ä½¿ç”¨ROS#è¢«Unityè®¢é˜…çš„æ¶ˆæ¯ï¼š
/sensor_msgs/joy
Unityä½¿ç”¨ROS#å‘å¸ƒçš„Topicè¯é¢˜ï¼š
/odomï¼Œ/joint_statesï¼Œ/unity_image/compressed</p>

<p>åœ¨Ubuntuç³»ç»Ÿä¸­é¼ æ ‡å…‰æ ‡çš„ç§»åŠ¨ç”¨æ¥æ§åˆ¶Unityä¸­çš„TurtelBot2ï¼Œå› æ­¤ï¼ŒROSèŠ‚ç‚¹/mouse_to_joy.pyæŠŠé¼ æ ‡å…‰æ ‡çš„ç§»åŠ¨æ˜ å°„åˆ°/sensor_msgs/joyç±»å‹çš„æ¶ˆæ¯ä¸­ã€‚è¿™äº›æ¶ˆæ¯è¢«å‘é€åˆ° rosbridge_websocket ç„¶åè¢«Unityæ•è·ã€‚
åœ¨Unityä¸­ï¼Œæœºå™¨äººä¼šæ ¹æ®è¢«æ•è·çš„é¼ æ ‡å…‰æ ‡è¿åŠ¨æ¥ç§»åŠ¨ï¼ŒåŒæ—¶ï¼Œä¸ºäº†åšè¿›ä¸€æ­¥çš„å¤„ç†ï¼Œè¯é¢˜/odomï¼Œ/joint_statesï¼Œ/unity_image/compressed ä½¿ç”¨ROS#ç”¨æ¥å‘å¸ƒã€‚</p>

<p>å‡†å¤‡å·¥ä½œï¼š
1ã€å»ºç«‹å¥½Unityåœºæ™¯ï¼šé“¾æ¥URDFåˆ°ROS#
ç¡®ä¿å·²ç»æ ¹æ®æ•™ç¨‹æ“ä½œï¼Œæ“ä½œè€…åº”è¯¥å·²ç»åœ¨Unityä¸­å¯¼å…¥äº†URDFæ¨¡å‹
å·²ç»åŠ è½½äº† UnitySimulationScene.unity Unityåœºæ™¯ï¼Œç¡®ä¿Unityåœºæ™¯å·²ç»åŠ è½½å®Œå…¨å¯ç”¨
æˆ–è€…ï¼šæ ¹æ®è§†é¢‘ä»‹ç»æ‰‹åŠ¨å»ºç«‹Unityåœºæ™¯ï¼Œå¯ä»¥é€‰æ‹©æ„Ÿå…´è¶£çš„éƒ¨åˆ†å•ä¸ªå®ç°
2ã€å»ºç«‹ROS
ç¡®ä¿æ ¹æ®æ•™ç¨‹æ“ä½œ
æŠŠunity_simulation_sceneæ–‡ä»¶å¤¹æ”¾åˆ°å·¥ä½œç©ºé—´çš„srcæ–‡ä»¶å¤¹ä¸‹ï¼Œé‡æ–°ç¼–è¯‘å·¥ä½œç©ºé—´
åœ¨ç»ˆç«¯æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼š
$ roslaunch unity_simulation_scene unity_simulation_scene.launch
è¯¥å‘½ä»¤ä¼šåŒæ—¶å¯åŠ¨rosbridge_websocket, file_server, mouse_to_joy ä»¥åŠrqt_graph</p>

<p>æ‰§è¡Œï¼š
ä¸€æ—¦ROSèŠ‚ç‚¹å¯åŠ¨ï¼ŒUnityä¸­çš„æœºå™¨äººå·²ç»å‡†å¤‡å¥½ç§»åŠ¨äº†ã€‚
å½“ç‚¹å‡»â€œPlayâ€æŒ‰é’®ï¼ŒUbuntuä¸­çš„é¼ æ ‡å…‰æ ‡ç§»åŠ¨ï¼ŒTurtleBot2 å°†ä¼šåœ¨Unityä¸­ç§»åŠ¨
ç‚¹å‡»rqt_graphçª—å£çš„åˆ·æ–°æŒ‰é”®ï¼Œå°†ä¼šæ˜¾ç¤ºå¦‚ä¸‹ç½‘ç»œè¿æ¥ç¤ºæ„å›¾</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/012.png" alt=""></p>

<p>å®é™…ä½¿ç”¨è®°å½•ï¼š
å¯¼å…¥ URDFæ¨¡å‹ï¼Œä¹‹å‰çš„æ–¹æ³•æ˜¯æ–°å»ºä¸€ä¸ªå·¥ç¨‹ä¸­åœ¨ Assertsæ–‡ä»¶å¤¹ä¸‹ç›´æ¥æ”¾å€¼ RosSharp æ–‡ä»¶åŒ…ï¼ˆæ¥è‡ªgit RosSharpå·¥ç¨‹æºç ï¼‰ï¼Œè¿™é‡Œä½¿ç”¨çš„æ–¹å¼æ˜¯ç›´æ¥åœ¨Projectå³é”®ç›´æ¥å¯¼å…¥untiyåŒ…UnitySimulationScene.unityï¼ˆæ¥è‡ªgit RosSharpå·¥ç¨‹æºç ï¼‰</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/013.png" alt=""></p>

<p>zypc@zypc-All-Series:~/rossharp_ws$ roslaunch unity_simulation_scene unity_simulation_scene.launch
è¿è¡ŒæŠ¥é”™ï¼Œæ‰¾ä¸åˆ°mouse_to_joy.pyèŠ‚ç‚¹ï¼Œé”™è¯¯ä»£ç å¦‚ä¸‹ï¼š
can&#39;t locate node [mouse_to_joy.py] in package [unity_simulation_scene]
å•ç‹¬è¿è¡Œmouse_to_joy.pyèŠ‚ç‚¹æµ‹è¯•
zypc@zypc-All-Series:~/rossharp_ws$ rosrun unity_simulation_scene mouse_to_joy.py
è¿è¡ŒæŠ¥é”™ï¼Œæ‰¾ä¸åˆ°Xlibåº“ï¼Œé”™è¯¯ä»£ç å¦‚ä¸‹ï¼š
from Xlib import display ImportError: No module named Xlib
æ‰‹åŠ¨å®‰è£…python-xlibåº“</p>

<pre><code>sudo apt install python-xlib
</code></pre>

<p>å®‰è£…å®Œæ¯•ä¹‹åè¿è¡Œlaunchã€‚
å¦‚æœè¿˜æ˜¯æŠ¥can&#39;t locate node [mouse_to_joy.py]çš„é—®é¢˜å¯èƒ½æ˜¯å› ä¸ºmouse_to_joy.pyæœ¬èº«çš„å¯æ‰§è¡Œæƒé™é—®é¢˜ã€‚æ‰§è¡Œå‘½ä»¤chmod a+x mouse_to_joy.py</p>

<p>ç‚¹å‡»runç®­å¤´è¿è¡Œunity3D ä¸­çš„unity_simulation_sceneåœºæ™¯ï¼Œè™½ç„¶å¾ˆå¡..ä½†æ˜¯ä¸€æ®µæ—¶é—´åï¼Œè¿è¡Œèµ·æ¥äº†ï¼Œé¼ æ ‡ç§»åŠ¨UIæ²¡æœ‰ä»»ä½•ååº”ï¼Œåœºæ™¯æ”¾å¤§åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/014.png" alt=""></p>

<p>unity_simulation_scene.launchç»ˆç«¯è·å–é¼ æ ‡ç®­å¤´çš„åæ ‡ä½ç½®å‘ç”Ÿæ”¹å˜ï¼š</p>

<pre><code>...
[INFO] [1523448326.618147]: header: 
  seq: 0
  stamp: 
    secs: 0
    nsecs:         0
  frame_id: &#39;&#39;
axes: [0.7518518518518519, 0.446875] //åæ ‡ä¿¡æ¯[y, x]
buttons: []
...
</code></pre>

<p>ä»¥å±å¹•ä¸­å¿ƒä¸ºåæ ‡åŸç‚¹ï¼ˆ0, 0ï¼‰</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/015.png" alt=""></p>

<p>ä½†å®é™…é€šä¿¡æ–¹å¼æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ²¡æœ‰/mouse_to_joy å’Œ /rosbridge_websocket ä¹‹é—´çš„ /joy topic. ä¸çŸ¥é“ä¸ºä»€ä¹ˆrosç«¯æ²¡æœ‰åˆ›å»º /joy è¿™ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€…åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸Šæ²¡æœ‰publishä»»ä½•æ¶ˆæ¯ã€‚</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/016.png" alt=""></p>

<p>ä¸çŸ¥é“unityç«¯çš„topicæœ‰æ²¡æœ‰å»ºç«‹ /odomï¼Œ/joint_statesï¼Œ/unity_image/compressed æ²¡æœ‰ä»»ä½•æç¤ºã€‚</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/017.png" alt=""></p>

<p>åœ¨è¿è¡Œç»ˆç«¯å¯ä»¥çœ‹åˆ°è¿æ¥åˆ°æŒ‡å®šç«¯å£åï¼ˆ192.168.56.101:9090 ï¼Ÿä¸æ˜¯æŒ‡å®šçš„192.168.1.33ï¼‰ï¼Œå‡ºç°äº†å„ç§è¿è¡Œé”™è¯¯çš„æ‰“å°ï¼Œè€Œä¸”æ˜¯åŸºç¡€çš„ Subscriber å’Œ Publisher.
rosSocket.Subscribe.cs ä¸­ï¼ŒLine35:
rosSocket.Subscribe(xx,xx,xx,xx); å‡ºç°é—®é¢˜
rosSocket.Publisher.cs ä¸­ï¼Œ line36:
publicationId = rosSocket.Advertise(Topic, MessageTypes.RosMessageType ( MessageProvider.MessageType ) ); å‡ºç°é—®é¢˜
å…·ä½“ä»€ä¹ˆé—®é¢˜ä¸æ¸…æ¥šã€‚å¯èƒ½æ˜¯IPå¼•èµ·çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯æ–°è€ç‰ˆæœ¬äº¤æ›¿å‘½åæ–¹å¼å¼•èµ·çš„é—®é¢˜ã€‚å¯¼è‡´å¼•ç”¨æ²¡æœ‰å®ä¾‹å¯¹è±¡ã€‚</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/018.png" alt=""></p>

<p>ä¿®æ”¹IPä¹‹åä»»ç„¶å­˜åœ¨è¿æ¥å»ºç«‹çš„é—®é¢˜ã€‚ã€‚ã€‚</p>

<p>//------------------------------------------------------------------------------------------------------
2018.4.21æ›´æ–°
RosSharp Gitå·¥ç¨‹æ›´æ–°ï¼Œä¿®å¤å¯¼å…¥çš„URDFæ¨¡å‹åå­—ä¸ºnullçš„é—®é¢˜ã€‚ä¿®å¤æ–¹æ³•ï¼Œæ ¹æ®RosSharp è¥¿é—¨å­å®˜æ–¹æä¾›çš„youtube è§†é¢‘ï¼Œä¿®æ”¹RosConnectoræ¨¡å‹ä¸‹ï¼Œ Urdf Patcher è„šæœ¬ï¼ŒPublish å’Œ Subscrib å¯¹è±¡çš„ä¸€äº›å‚æ•°ï¼Œä¿®æ”¹äº†wheel_left/right_linkçš„è¿åŠ¨æ–¹å‘ã€é€Ÿåº¦ç­‰çš„è„šæœ¬æ¥æºï¼Œé€Ÿåº¦ï¼Œé™åˆ¶ç­‰å‚æ•°ï¼ˆæœ‰äº›è¿˜ä¸å¤ªæ˜ç™½èµ·ä»€ä¹ˆä½œç”¨çš„å‚æ•°ï¼‰ã€‚</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/019.png" alt=""></p>

<pre><code>rostopic list
</code></pre>

<pre><code>/joint_state
/joy
/odom
/rosout
/rosout_agg
/statistics
/unity_image/compressed
</code></pre>

<p>æŸ¥çœ‹unityå‘å¸ƒçš„æŸä¸ªtopic çš„æ¥æ”¶æƒ…å†µï¼Œunityç«¯çš„èŠ‚ç‚¹åç§°ä¸º/rosbridge_websocket</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/020.png" alt=""></p>

<p>é™„ï¼šunity3D rosConnecter é…ç½®æˆªå›¾</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/021.png" alt=""></p>



      
    </div>
    
    
  </body>
</html>

>
</html>

»€ä¹ˆä½œç”¨çš„å‚æ•°ï¼‰ã€‚</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/019.png" alt=""></p>

<pre><code>rostopic list
</code></pre>

<pre><code>/joint_state
/joy
/odom
/rosout
/rosout_agg
/statistics
/unity_image/compressed
</code></pre>

<p>æŸ¥çœ‹unityå‘å¸ƒçš„æŸä¸ªtopic çš„æ¥æ”¶æƒ…å†µï¼Œunityç«¯çš„èŠ‚ç‚¹åç§°ä¸º/rosbridge_websocket</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/020.png" alt=""></p>

<p>é™„ï¼šunity3D rosConnecter é…ç½®æˆªå›¾</p>

<p><img src="http://7xku3c.com1.z0.glb.clouddn.com/ROS/021.png" alt=""></p>



      
    </div>
    
    
  </body>
</html>

